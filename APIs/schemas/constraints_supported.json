{
  "$schema": "http://json-schema.org/draft-04/schema",
  "type": "object",
  "definitions": {
    "contains-label": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:meta:label"] }
        }
      }
    },
    "contains-preference": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:meta:preference"] }
        }
      }
    },
    "contains-enabled": {
        "not": {
          "items": {
            "not": { "enum": ["urn:x-nmos:cap:meta:enabled"] }
          }
        }
    },
    "contains-mediatype": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:media_type"] }
        }
      }
    },
    "contains-grainrate": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:grain_rate"] }
        }
      }
    },
    "contains-framewidth": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:frame_width"] }
        }
      }
    },
    "contains-frameheight": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:frame_height"] }
        }
      }
    },
    "contains-interlacemode": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:interlace_mode"] }
        }
      }
    },
    "contains-colorsampling": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:color_sampling"] }
        }
      }
    },
    "contains-componentdepth": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:component_depth"] }
        }
      }
    },
    "contains-channelcount": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:channel_count"] }
        }
      }
    },
    "contains-samplerate": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:sample_rate"] }
        }
      }
    },
    "contains-sampledepth": {
      "not": {
        "items": {
          "not": { "enum": ["urn:x-nmos:cap:format:sample_depth"] }
        }
      }
    }
  },
  "required": [
    "parameter_constraints"
  ],
  "properties": {
    "parameter_constraints": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^urn:x-nmos:cap:"
      },
      "allOf": [
        { "$ref": "#/definitions/contains-label" },
        { "$ref": "#/definitions/contains-preference" },
        { "$ref": "#/definitions/contains-enabled" },
        { "$ref": "#/definitions/contains-mediatype" },
        { "$ref": "#/definitions/contains-grainrate" },
        { "$ref": "#/definitions/contains-framewidth" },
        { "$ref": "#/definitions/contains-frameheight" },
        { "$ref": "#/definitions/contains-interlacemode" },
        { "$ref": "#/definitions/contains-colorsampling" },
        { "$ref": "#/definitions/contains-componentdepth" },
        { "$ref": "#/definitions/contains-channelcount" },
        { "$ref": "#/definitions/contains-samplerate" },
        { "$ref": "#/definitions/contains-sampledepth" }
      ],
      "uniqueItems": true
    }
  }
}
